---
layout: default
title: Build
categories: root
permalink: build.html
---

<p><strong>Warning</strong>: Compiling PhantomJS from source takes a long time, mainly due to thousands of files in the WebKit module. With 4 parallel compile jobs on a modern machine, the entire process takes roughly 30 minutes. It is highly recommended to download and install the ready-made <a href="download.html">binary package</a> if it is available.</p>

<h2 id="mac">Mac OS X</h2>

<p>Install <a href="https://developer.apple.com/xcode/">Xcode</a> and the necessary SDK for development (gcc, various tools, libraries, etc).</p>

<pre>
git clone git://github.com/ariya/phantomjs.git
cd phantomjs
git checkout 1.9
./build.sh
</pre>

<p>This produces a static build <code>bin/phantomjs</code>. This is a self-contained executable, it can be moved to a different directory or another machine.</p>

<h2 id="linux">Linux</h2>

<p>For Ubuntu Linux (tested on a barebone install of Ubuntu 10.04 Lucid Lynx, Ubuntu 11.04 Natty Narwhal, Ubuntu 12.04 Precise Pangolin):</p>

<pre>
sudo apt-get update
sudo apt-get install build-essential chrpath git-core libssl-dev libfontconfig1-dev
git clone git://github.com/ariya/phantomjs.git
cd phantomjs
git checkout 1.9
./build.sh
</pre>

<p>For Amazon EC2 AMI (release 2011.09, 2012.03) and CentOS/RHEL 6:</p>
<pre>
sudo yum install gcc gcc-c++ make git openssl-devel freetype-devel fontconfig-devel
git clone git://github.com/ariya/phantomjs.git
cd phantomjs
git checkout 1.9
./build.sh
</pre>

<p><strong>Note 1</strong>: <code>build.sh</code> by default will launch parallel compile jobs depending on the available CPU cores, e.g. 4 jobs on a modern hyperthreaded dual-core processor. If necessary, e.g. when building on a virtual machine/server or other limited environment, reduce the jobs by passing a number, e.g <code>./build.sh --jobs 1</code> to set only one compile job at a time.</p>

<p><strong>Note 2</strong>: To create an RPM package (EC2 AMI, CentOS, or RHEL), make sure <code>rpm-build</code> package is installed and then
run the following <em>after</em> a successful build:</p>
<pre>
cd rpm
./mkrpm.sh phantomjs
</pre>

<p><strong>Note 3</strong>: Compile time for Ubuntu 12.04 running on Amazon EC2 <em>M1 Extra Large</em> (m1.xlarge, 4 cores): 20 minutes, <em>M1 Large</em> (m1.large, 2 cores): 50 minutes, <em>M1 Medium</em> (m1.medium, 1 core): 100 minutes.</p>

<h2 id="windows">Windows</h2>

<p>Install <a href="http://www.microsoft.com/visualstudio/">Microsoft Visual C++</a>, either version 2010 or 2008 (the <a href="http://www.microsoft.com/visualstudio/en-us/products/2010-editions/express">Express edition</a> should work just fine).</p>

<p>First step is to build OpenSSL static library. Go to <a href="http://www.openssl.org/source/">openssl.org/source</a> and download the source package (tested with version 1.0.1). Unpack the package to a working directory, e.g. <code>C:\openssl</code>. Configure and build OpenSSL:</p>
<pre>
perl Configure VC-WIN32 no-asm --prefix=C:\openssl
ms\do_ms
nmake -f ms\nt.mak install
</pre>
<p>Get PhantomJS source code:</p>
<pre>
git clone git://github.com/ariya/phantomjs.git
cd phantomjs
git checkout 1.9
</pre>

<p>Edit file <code>src\qt\preconfig.cmd</code> and change OPEN_SSL_DIR variable to point to the OpenSSL working directory.</p>

<p>Finally, compile PhantomJS:</p>
<pre>
cd src\qt
preconfig.cmd
cd ..\..
src\qt\bin\qmake -r
nmake
</pre>

<p>This produces a static build <code>bin/phantomjs.exe</code>. This is a self-contained executable, it can be moved to a different directory or another machine.</p>

